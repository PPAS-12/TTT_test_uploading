KQG_special_categories1 = {

    KQG_test = {
	on_map_mode = map_and_decisions_view
	
		priority = 20
		
  		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 0
			modifier = {
				add = 15
				FROM = {
					is_core_of = ROOT
				}
			}
		}
		
		cost = 0

		state_target = yes

		target_trigger = {
			FROM = {
				is_core_of = ROOT
				NOT = { has_state_flag = KQG_state1 }
			}
		}

		highlight_color_while_active = 1
	
		visible = {
		check_variable = { KQG_agrarian < 0.49 }
	    }
		        
		target_array = core_states
		
		days_remove = 7
		
        modifier = {
		WEEKLY_MANPOWER = -50
        POLITICAL_POWER_COST = 0.25		
	   	}
		
		remove_effect = {
		    add_to_variable = { KQG_agrarian = 0.02 }
			FROM = {
					add_dynamic_modifier = { modifier = KQG_state_modifier_1 }
					set_state_flag = KQG_state1
			}
		}
	}
	
	KQG_test2 = {
		priority = 20
		
  		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 20
		}
		
		cost = 10

		available = {
		check_variable = { KQG_agrarian > 0.49 }
	    }
		        
		remove_effect = {
		   add_ideas = KQG1_39
		}
	}
	
	KQG_test3 = {
	
		priority = 20
		
  		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 20
		}
		
		cost = 10

		available = {
		check_variable = { KQG_agrarian > 0.99 }
	    }
		        
		remove_effect = {
		   swap_ideas = {
			add_idea = KQG1_4
			remove_idea = KQG1_39
		    }
		}
	}
	
	KQG_test1 = {
		priority = 20
		
  		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 0
			modifier = {
				add = 15
				FROM = {
					is_core_of = ROOT
				}
			}
		}
		
		cost = 0

		state_target = yes

		target_trigger = {
			FROM = {
				is_core_of = ROOT
				NOT = { has_state_flag = KQG_state2 }
			}
		}

		highlight_color_while_active = 1
	
		visible = {
		check_variable = { KQG_agrarian > 0.49 }
	    }
		        
		target_array = core_states
		
		days_remove = 7
		
        modifier = {
		WEEKLY_MANPOWER = -50
        POLITICAL_POWER_COST = 0.25		
	   	}
		
		remove_effect = {
		    add_to_variable = { KQG_agrarian = 0.02 }
			FROM = {
					add_dynamic_modifier = { modifier = KQG_state_modifier_2 }
					set_state_flag = KQG_state2
			}
		}
	}
}


KQG_special_categories2 = {

   KQG_test5 = {
		
		cost = 75
		
		icon = GFX_decision_spr_political_assassination
				
		days_remove = 30
		
		available = {
	     tag = KQG
		 NOT = { has_country_flag = keqing555 }
	    }
		
		fire_only_once = yes
		
		complete_effect = {  
			set_country_flag = {
			    flag = keqing555
				days = 30
				value= 1
		  }
		}
		
		remove_effect = {
						
		add_tech_bonus = {
				name = KQG_test5
				bonus = 0.25
				uses = 1
				category = infantry_weapons 
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_country_flag = KQG_event_8_has_triggered } }
					country_event = { id = KQG_events.5 days = 14 }
					set_country_flag = KQG_event_8_has_triggered
				}
			}
		}		
	}
	
	KQG_test6 = {
	
	    icon = GFX_decision_category_SOV_merge_designers
		
		cost = 100
		
		days_remove = 30
		
		available = {
	      tag = KQG
		  NOT = { has_country_flag = keqing555 }
	    }
		
		complete_effect = {  
			set_country_flag = {
			    flag = keqing555
				days = 30
				value= 1
		  }
		}
		
		fire_only_once = yes
		
		remove_effect = {
		
		add_tech_bonus = {
				name = KQG_test6
				bonus = 0.25
				uses = 1
				category = industry 
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_country_flag = KQG_event_8_has_triggered } }
					country_event = { id = KQG_events.5 days = 14 }
					set_country_flag = KQG_event_8_has_triggered
				}
			}
	}
	}
	
	KQG_test7 = {
	
	    icon = GFX_decision_category_SOV_propaganda
		
		cost = 50
		
		days_remove = 30
		
		available = {
	      tag = KQG		 	      
		  NOT = { has_country_flag = keqing555 }	    
	    }
		
		complete_effect = {  
			set_country_flag = {
			    flag = keqing555
				days = 30
				value= 1
		  }
		}
		
		fire_only_once = yes
		
		remove_effect = {
		set_country_flag = {
			    flag = keqing555
				days = 30
				value= 1
		  }
		  
			add_tech_bonus = {
				name = KQG_test7
				bonus = 0.25
				uses = 1
				category = electronics
			}
		
			hidden_effect = {
				if = {
					limit = { NOT = { has_country_flag = KQG_event_8_has_triggered } }
					country_event = { id = KQG_events.5 days = 14 }
					set_country_flag = KQG_event_8_has_triggered
				}
			}
		}
	}
	
	KQG_test8 = {
	
	    icon = GFX_decision_SOV_academy_of_sciences
		
		cost = 50
		
		days_remove = 30
		
		available = {
	      tag = KQG
		  NOT = { has_country_flag = keqing555 }
	    }
		
		fire_only_once = yes
		
		complete_effect = {  
			set_country_flag = {
			    flag = keqing555
				days = 30
				value= 1
		  }
		}
		
		remove_effect = {
		set_country_flag = {
			    flag = keqing555
				days = 30
				value= 1
		  }
		  
			add_tech_bonus = {
				name = KQG_test7
				bonus = 0.25
				uses = 1
				category = support_tech
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_country_flag = KQG_event_8_has_triggered } }
					country_event = { id = KQG_events.5 days = 14 }
					set_country_flag = KQG_event_8_has_triggered
				}
			}
		}
	}

}

KQG_special_categories3 = {

   
KQG_test9 = {
        icon = GFX_decision_category_SOV_merge_designers
		
		cost = 100

		
		available = {
	      check_variable = { kqg_test1<8 }
	    }
		
		fire_only_once = no
		
		remove_effect = {
		add_offsite_building = {
		type = industrial_complex
		level = 1
		}

        hidden_effect = {
        add_to_variable = {
        var = kqg_test1
        value = 1
       }
    }		
	}
	}
	
KQG_test10 = {
        icon = GFX_decision_category_SOV_soviet_academy_of_sciences
		
		cost = 100

		
		available = {
	      check_variable = { kqg_test2<3 }
	    }
		
		fire_only_once = no
		
		remove_effect = {
		add_offsite_building = {
		type = arms_factory
		level = 1
		}

        hidden_effect = {
        add_to_variable = {
        var = kqg_test2
        value = 1
       }
    }		
	}
	}

}
KQG_special_categories4 = {
    KQG_redarmy1 = {
		icon = GFX_decision_generic_military
		on_map_mode = map_only
		priority = 200
							
		ai_will_do = {
			factor = 20
		}
		
        target_trigger = {
			FROM = {
				is_core_of = ROOT
			}
		}
		
		state_target = yes

		ai_will_do = {
			base = 0
			modifier = {
				add = 15
				FROM = {
					is_core_of = ROOT
				}
			}
		}
				
		cancel_if_not_visible = yes
		
		highlight_color_while_active = 1
		
		state_target = yes
		
		cost = 25
		
		fire_only_once = yes
		
		days_remove = 15

		complete_effect = {
		
		}
         
		remove_effect = {	
				division_template = {
					name = "工人赤卫队"
					priority = 2
					is_locked = no
					division_names_group = KQG_INF_02
					regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
		    }
		FROM = {
		create_unit = {
			division = "division_template = \"工人赤卫队\" start_experience_factor = 0.4"
			owner = KQG
			count = 3
		    }
	    }
		}
	}	
    KQG_test16 = {
		
		icon = GFX_decision_eng_support_imperialist_coup
		
		cost = 45
		
		days_remove = 30
		
		fire_only_once = no
		
		available = {
			
		}
		ai_will_do = {
			factor = 10
		}
		modifier = {
			mobilization_speed = 0.05
			army_core_defence_factor = 0.05
			army_core_attack_factor = 0.05
	   	}
		remove_effect = {  
			add_manpower = 2000
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000				
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 100				
			}
		}		   		       
    }
	KQG_test55 = {
		
		icon = GFX_decision_generic_merge_plant_materiel
		
		cost = 100
		
		days_remove = 90
		
		fire_only_once = no
		
		available = {
			
		}
		ai_will_do = {
			factor = 10
		}
		modifier = {
			industrial_capacity_factory = 0.20
	        production_factory_efficiency_gain_factor = 0.20
			stability_weekly = -0.015
			war_support_weekly = -0.015
	   	}		   		       
    }
	KQG_test66 = {
		
		icon = GFX_decision_generic_political_rally
		
		cost = 50
		
		days_remove = 30
		
		fire_only_once = no
		
		available = {
			
		}
		ai_will_do = {
			factor = 10
		}
		modifier = {
			stability_weekly = 0.025
			war_support_weekly = 0.025
	   	}		   		       
    }
	KQG_test69 = {
		
		icon = GFX_decision_hol_draw_up_staff_plans
		
		cost = 35
		
		days_remove = 30
		
		fire_only_once = no
		
		available = {
			
		}
		ai_will_do = {
			factor = 10
		}
		modifier = {
		  supply_consumption_factor = -0.10
		  production_speed_supply_node_factor = 3
	   	}		   		       
    }
	KQG_test64 = {
		
		icon = GFX_decision_hol_war_on_pacifism
		
		cost = 10
		
		days_remove = 90
		
		fire_only_once = yes
		
		available = {
			has_war_with = XQG	
		}
		ai_will_do = {
			factor = 10
		}
        targeted_modifier = {		
		tag = XQG
		attack_bonus_against = 0.20
		defense_bonus_against = 0.20		
		}		
	}
	KQG_test50 = {
		
		icon = GFX_decision_hol_war_on_pacifism
		
		cost = 10
		
		days_remove = 90
		
		fire_only_once = yes
		
		available = {
		 has_war_with = NNG	
		}
		ai_will_do = {
			factor = 10
		}
        targeted_modifier = {		
		tag = NNG
		attack_bonus_against = 0.20
		defense_bonus_against = 0.20		
		}		
	}
	KQG_test67 = {
		
		icon = GFX_decision_hol_war_on_pacifism
		
		cost = 10
		
		days_remove = 30
		
		fire_only_once = yes
		
		available = {
			has_war_with = XOG
		}
		ai_will_do = {
			factor = 10
		}
		targeted_modifier = {
		tag = XOG
		attack_bonus_against = 0.10
		defense_bonus_against = 0.10		
		}		
	}
	KQG_test68 = {
		
		icon = GFX_decision_hol_war_on_pacifism
		
		cost = 10
		
		days_remove = 30
		
		fire_only_once = yes
		
		available = {
			has_war_with = XRG
		}
		ai_will_do = {
			factor = 10
		}
        targeted_modifier = {		
		tag = XRG
		attack_bonus_against = 0.10
		defense_bonus_against = 0.10		
		}		
	}
}
	KQG_decision_category6 = {
		
	KQG_quanli3 = {
    icon = GFX_decision_bul_speech_nsm
		
		cost = 25
		
		days_remove = 7
		
		fire_only_once = no
		
		allowed = {
			original_tag = KQG
		}
		
		available = {
		    XRG = { exists= NO}
		    RTG = { exists= NO}
		    XOG = { exists= NO}
		    ZDG = { exists= NO}
		    LYU = { exists= NO}
		    BDG = { exists= NO}
		    ANG = { exists= NO}
		}
		
		ai_will_do = {
			factor = 50
		}
		modifier = {
			
	   	}
		
		remove_effect = {
			XQG = {
			country_event = { days = 1  id = KQG_events.18  }
            }          			
		}
    }	
}

